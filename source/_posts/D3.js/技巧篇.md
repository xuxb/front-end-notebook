---
title: 技巧
categories: [D3.js]
tags: [D3.js]
date: 2021-03-24
---

# 技巧


* 画布区域要有留白 `padding = [20, 20, 30, 40]`
* Y 轴方向的尺度需要做倒置处理，因为浏览器默认 SVG 的 Y 轴是从上至下，但按照图标惯例是从下至上，所以数据项的值越大时，对应的 Y 轴坐标应该越小。为了处理这些逆转，可以在定义范围时交换这些值，如 `d3.scale.linear().domain([0, maxVal]).range([height, 0])`
* `<g>` 元素内的所有元素都是以父元素 `<g>` 为标准进行排版
    * 图形区域用 `<g>` 元素包裹
    * 坐标轴区域用 `<g>` 元素包裹
    * 图例区域用 `<g>` 元素包裹
    * ... 
* 对于图标中可能会重叠的项，可以添加透明度，增强层次感