---
title: 语法
categories: JavaScript
tags: [JavaScript 原理]
date: 2021-01-29 14:24:48
---

# 语法

### 1. 语句

每个语句都有一个结果值（如 `undefined`）

* 代码块 `{ .. }` 的结果值是其最后一个语句或表达式的结果
* ECMAScript 规范定义 `var` 语句的结果值是 `undefined` 
  
> 语法不允许我们获得语句的结果值并将其赋值给另一个变量（至少目前不行）

### 2. 表达式的副作用

```js
var a, b, c;
a = b = c = 42;

// 这里 c = 42 的结果值为 42 （副作用是将 c 赋值 42 ），
// 然后 b = 42 的结果值为 42 （副作用是将 b 赋值 42 ），
// 最后是 a = 42 （副作用是将 a 赋值 42 ）
```

### 3. 标签语句

标签语句：实现类似 `goto` 的功能，用于控制循环的跳转（并不推荐使用）

`continue` 和 `break` 语句都可以带一个标签

```js
// `contine foo` 指执行foo 循环的下一轮循环
foo: for (var i = 0; i < 4; i++) {
  for (var j = 0; j < 4; j++) {
    if (j == i) { // 如果j和i相等，继续外层循环
      continue foo; // 跳转到foo的下一个循环
    }
    if ((j * i) % 2 == 1) { // 跳过奇数结果
      continue; // 继续内层循环（没有标签的）
    }
    console.log(i, j);
  }
}

// ------ output ------
// 1 0
// 2 0
// 2 1
// 3 0
// 3 2
```

**Note: **
* `switch...case...` 语句中使用严格相等进行比较，如需使用非严格相等，可使用 `switch (true) { case (a == 1)... }`
* 由于浏览器演进的历史遗留问题，在创建带有 id 属性的 DOM 元素时也会创建同名的全局变量