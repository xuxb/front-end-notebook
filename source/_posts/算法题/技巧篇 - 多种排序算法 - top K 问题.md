---
title: 技巧篇 - 多种排序算法 - top K 问题
categories: 算法题
tags: [算法题, 技巧篇]
date: 2021-05-24 16:32:28
---

# 技巧篇 - 多种排序算法 - top K 问题

> 问题描述：从 arr 这 n 个数中，找出最大的 k 个数
> 输入: [1, 4, 2, 7, 5, 3, 8, 6], 4
> 输出: [5, 6, 7, 8]

### 1. 数组全排序

**步骤**：
1. 对数组 arr 进行全排序，如使用快排
2. 取出最大的 k 个数

时间复杂度为：`nlgn`，优化点为：不需要对所有数据都排序


### 2. 局部排序

**步骤**：
1. 使用冒泡排序算法的思路，遍历一次数组，找出最大的数字
2. 重复上面的步骤，知道找出最大的 k 个数字

时间复杂度：`n·k`，优化点为：可以不必对这 k 个数字排序

### 3. 使用堆排序选出最大的 k 个元素

**步骤**：
1. 选前 `k` 个元素，构建小根堆，
2. 选第 `k + 1` 个元素，与堆顶元素比较，如果该元素大于堆顶元素，则替换堆顶元素并调整堆结构，否则忽略该元素
3. 重复上一步，直指所有元素都扫描完，此时堆结构里为最大的 `k` 个元素

时间复杂度：`nlgk`

### 4. 使用快排思路解决

减治法：分治法的一种，是把一个大的问题，转化为若干个子问题），这些子问题中**只**需要解决一个，便可以得到大问题的解，例如 `二分查找`、`寻找平方根`

思路：使用减治法先找出第 k 大的数，然后再找出 top K 的结果

**步骤**：
1. 找到 `i = partition(arr, low, high)`，利用快排的思路实现 `partition`，使得 `i` 左边的元素小于 `arr[i]`，`i` 右边的元素大于 `arr[i]`
2. 如果 `i` 等于 `k`，则 `i` 右边的元素为问题的解
3. 如果 `i` 小于 `k`，则说明说明第 `k` 大的元素在 `arr[i]` 的右边，于是只递归 `arr[i+1, n]` 里第 `k` 大的元素即可；
3. 如果 `i` 大于 `k`，则说明 `arr[i]` 左边的元素都大于 `k`，于是只递归 `arr[1, i-1]` 里第 `k` 大的元素即可；
4. 重复以上步骤，当 `i = k` 时，即到找出最大的 `k` 个数



