---
title: 多数元素
categories: 算法类别
tags: [算法题,算法题-数组]
date: 2021-06-24 16:32:28
---

# 多数元素

给定一个大小为 n 的数组，找到其中的多数元素。多数元素是指在数组中出现次数 大于 ⌊ n/2 ⌋ 的元素。

你可以假设数组是非空的，并且给定的数组总是存在多数元素。

示例 1：

输入：[3,2,3]
输出：3

示例 2：

输入：[2,2,1,1,1,2,2]
输出：2

解法：
1. 使用 Map 结构记录每个数字（key）、出现的次数（value），时间复杂度 `O(n)`，空间复杂度 `O(n)`
2. 对数组排序，取 n/2 位置的数字， 时间复杂度 `O(nlogn)`，空间复杂度 `O(logn)`
3. 使用摩尔投票法，时间复杂度 `O(n)`，空间复杂度 `O(1)`

```js
// 使用摩尔投票法
/**
 * @param {number[]} nums
 * @return {number}
 */
var majorityElement = function(nums) {
  let target;
  let count = 0;

  for (let i = 0; i < nums.length; i++) {
    if (count === 0) {
      target = nums[i];
      count++;
    } else {
      if (target === nums[i]) {
        count++;
      } else {
        count--;
      }
    }
  }

  return target;
};
```

### 摩尔投票法

**摩尔投票算法**是基于这个事实：每次从序列里选择两个不相同的数字删除掉（或称为“抵消”），最后剩下一个数字或几个相同的数字，就是出现次数大于总数一半的那个。

具体规则如下：
1. 当数组中的元素与假设的 target 不相等时，计数 count 减 1，即模拟不同数字相互抵消；
2. 假设数组中的元素与假设的 target 相等时，计数 count 加 1；
3. 当计数 count 等于 0 时，说明在当前遍历到的数组元素中，当前假设的 target 与其他数字相互抵消（个数相同），所以我们重新假设下一个遍历的数组元素为 target，继续上面过程。
4. 当遍历完数组后，target 为所求数字。
